<?xml version="1.0" encoding="UTF-8"?>
<ddl>
  <parser_build_time>Feb 23 2020 11:20:28</parser_build_time>
  <cppcode>
#include &lt;iostream&gt;
#include &lt;vector&gt;
</cppcode>
  <handler>demo</handler>
  <namespace>galois::user</namespace>
  <dataview>
    <name>EmptyUserView</name>
    <on_level>UserSource::UserTable</on_level>
    <properties/>
    <columns_node/>
    <notations/>
  </dataview>
  <dataview>
    <name>UserView</name>
    <on_level>UserSource::UserTable</on_level>
    <properties>
      <udf>UserViewUDF</udf>
    </properties>
    <columns_node>
      <column_node type="original">
        <name>user_id</name>
        <kind type="uint64">basic</kind>
        <constrains/>
      </column_node>
      <column_node type="original">
        <name>adx_id</name>
        <kind type="uint64">basic</kind>
        <constrains/>
      </column_node>
      <column_node type="original">
        <name>wise_vectors</name>
        <kind type="char" length="Constant::MAX_BUF_LEN">array</kind>
        <constrains>
          <constrain>opt</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>pc_vectors</name>
        <kind type="char" length="Constant::MAX_BUF_LEN">array</kind>
        <constrains>
          <constrain>opt</constrain>
        </constrains>
      </column_node>
      <column_node type="derivative">
        <name>usr_id_2</name>
        <kind type="uint32">basic</kind>
        <constrains>
          <constrain>del</constrain>
          <constrain prop="user_id,adx_id">from</constrain>
        </constrains>
      </column_node>
      <column_node type="derivative">
        <name>black_wd</name>
        <kind type="uint64" length="Constant::MAX_BLACK_WORD_NUM">array</kind>
        <constrains>
          <constrain prop="adx_id">from</constrain>
        </constrains>
      </column_node>
    </columns_node>
    <notations/>
  </dataview>
  <datasource>
    <name>Empty1</name>
    <properties/>
    <notations/>
  </datasource>
  <datasource>
    <name>Empty2</name>
    <properties/>
    <notations/>
  </datasource>
  <datasource>
    <name>UserSource</name>
    <properties>
      <type>databus</type>
      <protourl>ssh://git@github.com/galois-advertising/common/master/databus.proto:90000</protourl>
    </properties>
    <notations/>
  </datasource>
  <datatable>
    <name>UserTableEmpty1</name>
    <properties/>
    <columns_node/>
    <primary_key type="">nullptr</primary_key>
    <notations/>
  </datatable>
  <datatable>
    <name>UserTableEmpty2</name>
    <properties/>
    <columns_node/>
    <primary_key type="">nullptr</primary_key>
    <notations/>
  </datatable>
  <datatable>
    <name>UserTableEmpty3</name>
    <properties>
      <type>HashTable</type>
    </properties>
    <columns_node/>
    <primary_key type="">nullptr</primary_key>
    <notations/>
  </datatable>
  <datatable>
    <name>UserTable4</name>
    <properties>
      <type>HashTable</type>
    </properties>
    <columns_node>
      <column_node type="original">
        <name>usr_id_1</name>
        <kind type="uint8">basic</kind>
        <constrains>
          <constrain>opt</constrain>
        </constrains>
      </column_node>
    </columns_node>
    <primary_key type="">nullptr</primary_key>
    <notations/>
  </datatable>
  <datatable>
    <name>UserTable5</name>
    <properties>
      <type>HashTable</type>
    </properties>
    <columns_node>
      <column_node type="original">
        <name>usr_id_1</name>
        <kind type="uint8">basic</kind>
        <constrains>
          <constrain>opt</constrain>
        </constrains>
      </column_node>
    </columns_node>
    <primary_key type="uint64key">usr_id_10,usr_id_9</primary_key>
    <notations/>
  </datatable>
  <datatable>
    <name>UserTable6</name>
    <properties>
      <type>HashTable</type>
      <hash_ratio>0.5</hash_ratio>
    </properties>
    <columns_node>
      <column_node type="original">
        <name>usr_id_1</name>
        <kind type="uint8">basic</kind>
        <constrains>
          <constrain prop="1,2,3,4,5">range</constrain>
          <constrain>opt</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>usr_id_2</name>
        <kind type="uint16">basic</kind>
        <constrains>
          <constrain>opt</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>usr_id_3</name>
        <kind type="uint32">basic</kind>
        <constrains>
          <constrain>del</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>usr_id_4</name>
        <kind type="uint64" length="10u">array</kind>
        <constrains/>
      </column_node>
      <column_node type="original">
        <name>usr_id_5</name>
        <kind type="bool" length="MAX_LEN">array</kind>
        <constrains/>
      </column_node>
      <column_node type="original">
        <name>usr_id_6</name>
        <kind type="char" length="12u">array</kind>
        <constrains/>
      </column_node>
      <column_node type="original">
        <name>usr_id_7</name>
        <kind type="int">basic</kind>
        <constrains>
          <constrain prop="11">default</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>usr_id_8</name>
        <kind type="long">basic</kind>
        <constrains>
          <constrain prop="uid8">as</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>usr_id_9</name>
        <kind type="float">basic</kind>
        <constrains>
          <constrain>custom</constrain>
        </constrains>
      </column_node>
      <column_node type="original">
        <name>usr_id_10</name>
        <kind type="binary">basic</kind>
        <constrains/>
      </column_node>
    </columns_node>
    <primary_key type="uint64key">usr_id_10,usr_id_9</primary_key>
    <notations>
      <notation>Galois Advertising Framework</notation>
      <notation>solopointer</notation>
    </notations>
  </datatable>
  <dataupdator>
    <name>UserView|UserTable</name>
    <from>UserView</from>
    <to>UserTable</to>
    <properties>
      <type>default</type>
    </properties>
    <notations/>
  </dataupdator>
  <indexupdator>
    <name>UserTable|UserIndex</name>
    <from>UserTable</from>
    <to>UserIndex</to>
    <properties>
      <type>default</type>
    </properties>
    <notations/>
  </indexupdator>
</ddl>
